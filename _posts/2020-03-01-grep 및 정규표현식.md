---
title : "grep 사용법 및 정규표현식"
---

### grep

파일 전체를 뒤져서 정규표현식에 해당하는 행을 검색하여 출력한다.

#### grep의 옵션

옵션 | 동작
:-:|:-:
-b | 검색 결과의 각 행 앞에 검색된 위치의 블록 번호를 표시 
-c | 행의 숫자를 출력 (count)
-h | 파일 이름을 출력하지 않음
-i | 대소문자 구별 안 함 (ignore case)
-l | 파일의 이름만 출력 (list)
-n | 파일 내의 행 번호를 출력 (number)
-s | 에러 메시지 외에는 출력하지 않음
-v | 패턴이 존재하지 않는 행 출력
-w | 표현식을 하나의 단어로 취급

#### 정규표현식 사용

메타문자|기능|예제|설명
:-:|:-:|:-:|:-:
^|행 시작|'^love'|love로 시작하는 모든 행
$|행 끝|'love$'|love로 끝나는 모든 행
.|하나의 문자|'l..e'|l 다음에 두 글자가 나오고 e로 끝나는 문자열을 포함하는 행
*|0개 혹은 임의개수 문자|' *love'|0개 혹은 임의 개수의 공백 문자 후에 love로 끝나는 문자열을 포함한 행
[]|[] 사이의 문자 집합중 하나와 대응|'[Ll]ove'|love나 Love를 포함하는 행과 대응
[^ ]|문자집합에 속하지 않는 한 문자와 대응|'\[^A-K]love'|A와 K 사이의 범위에 포함되지 않는 한 문자와 ove가 붙어있는 문자열과 대응
\\<|단어의 시작|'\\<love'|love로 시작하는 단어를 포함하는 행
\\>|단어의 끝|'love\\>'|love로 끝나는 단어를 포함하는 행
\\(..\\)|다음 사용을 위해 태그를 붙인다.|'\\(lov\\)ing'|지정된 부분을 태크1에 저장한다. 나중에 태그값을 참고하려면 \1을 쓴다. 맨 왼쪽부터 시작해 태그를 9개가지 쓸 수 있다. 왼쪽 예에서는 lov가 레지스터1에 저장되고 나중에 \1로 참고할 수 있다.
x\\{m\\}|문자 x를 m번 반복한다.|'o\\{5\\}'|문자 o가 5회 연속적으로 나오는 모든 행과 대응
x\\{m,\\}|적어도 m번 반복한다.|'o\\{5,\\}'|문자 o가 최소한 5회 반복되는 모든 행과 대응
x\\{m,n\\}|m회 이상 n회 이하 반복한다.|o\\{5,10\\}'|문자 o가 5회에서 10회 사이의 횟수로 연속적으로 나타나는 문자열과 대응

#### 정규표현식 사용 예제

```
# grep NW datafile

# grep NW d*
(d로 시작하는 모든 파일에서 NW를 포함하는 모든 행을 찾는다.)

# grep '^n' datafile
(n으로 시작하는 모든 행을 출력한다.)

# grep '4$' datafile
(4로 끝나는 모든 행을 출력한다.)

# grep TB Savage datafile
(TB만 인자이고 Savage와 datafile은 파일 이름이다.)

# grep 'TB Savage' datafile
(TB Savage를 포함하는 모든 행을 출력한다.)

# grep '5\.' datafile
(숫자 5, 마침표, 임의의 한 문자가 순서대로 나타나는 문자열이 포함된 행을 출력한다.)

# grep '\.5' datafile
(.5가 나오는 모든 행을 출력한다.)

# grep '^[we]' datafile
(w나 e로 시작하는 모든 행을 출력한다.)

# grep '[^0-9]' datafile
(숫자가 아닌 문자를 하나라도 포함하는 모든 행을 출력한다.)

# grep '[A-Z][A-Z] [A-Z]' datafile
(대문자 2개와 공백 1개, 그리고 대문자 하나가 연이어 나오는 문자열이 포함된 행을 출력한다.)

# grep 'ss* ' datafile
(s가 한 번 나오고, 다시 s가 0번 또는 여러번 나온 후에 공백이 연이어 등장하는 문자열을 포함한 모든 행을 출력한다.)

# grep '[a-z]\{9\}' datafile
(소문자가 9번 이상 반복되는 문자열을 포함하는 모든 행을 출력한다.)

# grep '\(3\)\.[0-9].*\1 *\1' datafile
(숫자 3,마침표,임의의 한 숫자,임의 개수의 문자,숫자 3(태그),임의 개수의 탭 문자,숫자 3의 순서를 갖는 문자열이 포한된 모든 행을 출력한다.)

# grep '\<north' datafile
(north로 시작하는 단어가 포함된 모든 행을 출력한다.)

# grep '\<north\>' datafile
(north라는 단어가 포함된 모든 행을 출력한다.)

# grep '\<[a-z].*n\>' datafile
(소문자 하나로 시작하고, 이어서 임의 개수의 여러 문자가 나오며, n으로 끝나는 단어가 포함된 모든 행을 출력한다. 여기서 .*는 공백을 포함한 임의의 문자들을 의미한다.)

```

#### grep 옵션과 함께 사용 예제

```
# grep -n '^south' datafile
(행번호를 함께 출력한다.)

# grep -i 'pat' datafile
(대소문자를 구별하지 않게 한다.)

# grep -v 'Suan Chin' datafile
(문자열 Suan Chin이 포함되지 않은 모든 행을 출력하게 한다. 이 옵션은 입력 파일에서 특정 내용의 입력을 삭제하는데 쓰인다.

# grep -v 'Suan Chin' datafile > black
# mv black datafile

# grep -l 'SE' *
(패턴이 찾아진 파일의 행 번호 대신 단지 파일이름만 출력한다.)

# grep -w 'north' datafile
(패턴이 다른 단어의 일부가 아닌 하나의 단어가 되는 경우만 찾는다. northwest나 northeast 등의 단어가 아니라, north라는 단어가 포함된 행만 출력한다.)

# grep -i "$LOGNAME" datafile
(환경변수인 LOGNAME의 값을 가진 모든 행을 출력한다. 변수가 큰따옴표로 둘러싸여 있는 경우, 쉘은 변수의 값으로 치환한다. 작은따옴표로 둘러싸여 있으면 변수 치환이 일어나지 않고 그냥 $LOGNAME 이라는 문자로 출력된다.)

```

출처: <http://www.dreamy.pe.kr/zbxe/CodeClip/6331>
